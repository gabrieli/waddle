<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waddle üêß - Autonomous Development Workflow</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="logo">
                        <span class="logo-icon">üêß</span>
                        <span class="logo-text">Waddle</span>
                    </h1>
                    <div class="status-indicator" id="systemStatus">
                        <div class="status-dot"></div>
                        <span class="status-text">Initializing...</span>
                    </div>
                </div>
                <div class="header-right">
                    <button class="btn btn-primary" id="createWorkItemBtn">
                        <span class="btn-icon">+</span>
                        New Work Item
                    </button>
                    <button class="btn btn-ghost" id="viewLogsBtn">
                        <span class="btn-icon">üìã</span>
                        Logs
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="dashboard-grid">
                <!-- Work Items Board -->
                <section class="work-items-section">
                    <div class="section-header">
                        <h2 class="section-title">Work Items</h2>
                        <div class="section-actions">
                            <select class="filter-select" id="workItemFilter">
                                <option value="all">All Types</option>
                                <option value="epic">Epics</option>
                                <option value="user_story">Stories</option>
                                <option value="bug">Bugs</option>
                            </select>
                        </div>
                    </div>
                    <div class="kanban-board" id="workItemsBoard">
                        <div class="kanban-column" data-status="new">
                            <div class="column-header">
                                <span class="column-title">New</span>
                                <span class="column-count" id="newCount">0</span>
                            </div>
                            <div class="column-content" id="newColumn">
                                <!-- Work item cards will be inserted here -->
                            </div>
                        </div>
                        
                        <div class="kanban-column" data-status="in_progress">
                            <div class="column-header">
                                <span class="column-title">In Progress</span>
                                <span class="column-count" id="progressCount">0</span>
                            </div>
                            <div class="column-content" id="progressColumn">
                                <!-- Work item cards will be inserted here -->
                            </div>
                        </div>
                        
                        <div class="kanban-column" data-status="review">
                            <div class="column-header">
                                <span class="column-title">Review</span>
                                <span class="column-count" id="reviewCount">0</span>
                            </div>
                            <div class="column-content" id="reviewColumn">
                                <!-- Work item cards will be inserted here -->
                            </div>
                        </div>
                        
                        <div class="kanban-column" data-status="done">
                            <div class="column-header">
                                <span class="column-title">Done</span>
                                <span class="column-count" id="doneCount">0</span>
                            </div>
                            <div class="column-content" id="doneColumn">
                                <!-- Work item cards will be inserted here -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Task Pipeline -->
                <section class="task-pipeline-section">
                    <div class="section-header">
                        <h2 class="section-title">Task Pipeline</h2>
                        <div class="pipeline-legend">
                            <span class="legend-item">
                                <span class="legend-dot dev"></span>
                                Development
                            </span>
                            <span class="legend-item">
                                <span class="legend-dot test"></span>
                                Testing
                            </span>
                            <span class="legend-item">
                                <span class="legend-dot review"></span>
                                Review
                            </span>
                        </div>
                    </div>
                    <div class="task-pipeline" id="taskPipeline">
                        <div class="pipeline-column" data-type="development">
                            <div class="pipeline-header">
                                <span class="pipeline-icon">‚ö°</span>
                                <span class="pipeline-title">Development</span>
                                <span class="pipeline-count" id="devTaskCount">0</span>
                            </div>
                            <div class="pipeline-content" id="devTasks">
                                <!-- Development tasks -->
                            </div>
                        </div>
                        
                        <div class="pipeline-arrow">‚Üí</div>
                        
                        <div class="pipeline-column" data-type="testing">
                            <div class="pipeline-header">
                                <span class="pipeline-icon">üß™</span>
                                <span class="pipeline-title">Testing</span>
                                <span class="pipeline-count" id="testTaskCount">0</span>
                            </div>
                            <div class="pipeline-content" id="testTasks">
                                <!-- Testing tasks -->
                            </div>
                        </div>
                        
                        <div class="pipeline-arrow">‚Üí</div>
                        
                        <div class="pipeline-column" data-type="review">
                            <div class="pipeline-header">
                                <span class="pipeline-icon">üëÅ</span>
                                <span class="pipeline-title">Review</span>
                                <span class="pipeline-count" id="reviewTaskCount">0</span>
                            </div>
                            <div class="pipeline-content" id="reviewTasks">
                                <!-- Review tasks -->
                            </div>
                        </div>
                        
                        <div class="pipeline-arrow">‚Üí</div>
                        
                        <div class="pipeline-column" data-type="done">
                            <div class="pipeline-header">
                                <span class="pipeline-icon">‚úÖ</span>
                                <span class="pipeline-title">Complete</span>
                                <span class="pipeline-count" id="completeTaskCount">0</span>
                            </div>
                            <div class="pipeline-content" id="completeTasks">
                                <!-- Completed tasks -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sidebar -->
                <aside class="sidebar">
                    <!-- Agent Status -->
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">
                            <span class="sidebar-icon">üë•</span>
                            Agents
                        </h3>
                        <div class="agent-list" id="agentList">
                            <!-- Agent cards will be inserted here -->
                        </div>
                    </div>

                    <!-- Activity Stream -->
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">
                            <span class="sidebar-icon">üìä</span>
                            Activity Stream
                        </h3>
                        <div class="activity-stream" id="activityStream">
                            <!-- Activity items will be inserted here -->
                        </div>
                    </div>

                    <!-- System Metrics -->
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">
                            <span class="sidebar-icon">üìà</span>
                            Metrics
                        </h3>
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-value" id="totalWorkItems">0</div>
                                <div class="metric-label">Work Items</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="activeTasks">0</div>
                                <div class="metric-label">Active Tasks</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" id="completionRate">0%</div>
                                <div class="metric-label">Completion</div>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="modalOverlay">
        <!-- Create Work Item Modal -->
        <div class="modal" id="createWorkItemModal">
            <div class="modal-header">
                <h3 class="modal-title">Create Work Item</h3>
                <button class="modal-close" id="closeCreateModal">√ó</button>
            </div>
            <div class="modal-body">
                <form id="createWorkItemForm">
                    <div class="form-group">
                        <label for="workItemName">Name</label>
                        <input type="text" id="workItemName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="workItemDescription">Description</label>
                        <textarea id="workItemDescription" name="description" required rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="workItemType">Type</label>
                            <select id="workItemType" name="type" required>
                                <option value="">Select type...</option>
                                <option value="epic">Epic</option>
                                <option value="user_story">User Story</option>
                                <option value="bug">Bug</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="workItemAssignee">Assigned To</label>
                            <select id="workItemAssignee" name="assigned_to" required>
                                <option value="">Select agent...</option>
                                <option value="developer">Developer</option>
                                <option value="architect">Architect</option>
                                <option value="tester">Tester</option>
                                <option value="reviewer">Reviewer</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Branch Selection Section -->
                    <div class="form-group">
                        <label class="section-label">
                            <span class="label-icon">üåø</span>
                            Branch Selection
                        </label>
                        <div class="branch-selection-modern">
                            <div class="branch-options">
                                <!-- New Branch Option -->
                                <div class="branch-option" data-option="new">
                                    <input type="radio" id="newBranchRadio" name="branch_option" value="new" checked hidden>
                                    <label for="newBranchRadio" class="branch-option-card active">
                                        <div class="option-header">
                                            <div class="option-icon new-branch">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                                    <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                                </svg>
                                            </div>
                                            <div class="option-content">
                                                <h4>Create New Branch</h4>
                                                <p>Generate a new feature branch</p>
                                            </div>
                                        </div>
                                        <div class="branch-preview">
                                            <div class="preview-label">Branch name:</div>
                                            <input type="text" id="newBranchName" class="branch-name-input" placeholder="feature/branch-name">
                                        </div>
                                    </label>
                                </div>

                                <!-- Existing Branch Option -->
                                <div class="branch-option" data-option="existing">
                                    <input type="radio" id="existingBranchRadio" name="branch_option" value="existing" hidden>
                                    <label for="existingBranchRadio" class="branch-option-card">
                                        <div class="option-header">
                                            <div class="option-icon existing-branch">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                                    <path d="M6 3V15M18 9L12 15L6 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                            </div>
                                            <div class="option-content">
                                                <h4>Use Existing Branch</h4>
                                                <p>Select from available branches</p>
                                            </div>
                                        </div>
                                        <div class="branch-selector">
                                            <select id="existingBranchSelect" name="existing_branch" disabled>
                                                <option value="">Select a branch...</option>
                                            </select>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelCreateBtn">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create Work Item</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Activity Logs Modal -->
        <div class="modal modal-large" id="activityLogsModal">
            <div class="modal-header">
                <h3 class="modal-title">System Activity Logs</h3>
                <button class="modal-close" id="closeLogsModal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="logs-container" id="logsContainer">
                    <div class="logs-placeholder">
                        <span class="logs-icon">üìã</span>
                        <p>Activity logs will appear here...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer">
        <!-- Toasts will be inserted here -->
    </div>

    <script src="app.js"></script>
</body>
</html>